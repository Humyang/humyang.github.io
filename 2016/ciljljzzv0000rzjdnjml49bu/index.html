<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>




  <meta name="keywords" content="前端," />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />




  <title> 文章标题 // Humyang </title>
</head>

<body>
<!--[if lte IE 8]> <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'> <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari." style='margin-left:auto;margin-right:auto;display: block;'/></a></div> <![endif]-->
  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Humyang</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              文章标题
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2016-03-08
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/前端/">前端</a>

              
              
                ， 
              

            
              <a href="/categories/前端/Canvas/">Canvas</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2016/ciljljzzv0000rzjdnjml49bu/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2016/ciljljzzv0000rzjdnjml49bu/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <p>Canvas</p>
<a id="more"></a>
<hr>
<h2 id="Canvas_是什么">Canvas 是什么</h2><p>Canvas 是 HTML 5 的一个标签，在浏览器开辟一个区域作为画布，可以显示任意图形，图片，文字等。</p>
<p>这里收集了一些有关 Canvas 的站点：</p>
<ul>
<li>API <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData</a></li>
<li>两个 Canvas 合成的 DEMO <a href="http://media.chikuyonok.ru/canvas-blending/" target="_blank" rel="external">http://media.chikuyonok.ru/canvas-blending/</a></li>
</ul>
<p>这里是我做的<a href="1">Nike 跑鞋定制</a>的 DEMO (很简陋) 。</p>
<h2 id="其它资源">其它资源</h2><ol>
<li>合成 Canvas<br><a href="http://media.chikuyonok.ru/canvas-blending/" target="_blank" rel="external">http://media.chikuyonok.ru/canvas-blending/</a></li>
</ol>
<p>提供了合成两个 Canvas 的 demo。</p>
<p>核心代码使用 getImageData() 获取像素点，然后遍历 ImagesObject 对象逐个修改像素点。</p>
<ol>
<li>Canvas 框架</li>
</ol>
<p><a href="http://konvajs.github.io/docs/sandbox/Shape_Tooltips.html" target="_blank" rel="external">http://konvajs.github.io/docs/sandbox/Shape_Tooltips.html</a></p>
<p>没用过，功能挺多的。</p>
<h2 id="Canvas_能做什么">Canvas 能做什么</h2><p>这里从 Canvas 的 API 入手，分析 Canvas 能完成的任务。</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D</a></p>
<p>下面是 Canvas 的一些 API，但要注意兼容性问题，并且因为历史原因，有的功能当前可以使用，但未来会被替代。</p>
<h3 id="画矩形">画矩形</h3><p><a href="#">CanvasRenderingContext2D.clearRect()</a><br>Sets all pixels in the rectangle defined by starting point (x, y) and size (width, height) to transparent black, erasing any previously drawn content.<br>设置从起始点 (x,y) 开始的尺寸 (width,height) 内所有的像素点为透明的黑色，抹除所有之前设置的内容。<br><a href="#">CanvasRenderingContext2D.fillRect()</a><br>Draws a filled rectangle at (x, y) position whose size is determined by width and height.<br>绘制和填充指定区域，从起始点开始指定的宽度和高度。<br><a href="#">CanvasRenderingContext2D.strokeRect()</a><br>Paints a rectangle which has a starting point at (x, y) and has a w width and an h height onto the canvas, using the current stroke style.<br>在 Canvas 绘制一个矩形，从起始点开始的宽度和高度，使用当前的 stroke style。</p>
<h3 id="画文本">画文本</h3><p>The following methods are provided for drawing text. See also the <a href="#">TextMetrics</a> object for text properties.<br>下面的方法用作绘制文本，见 TextMetrics 对象描述相关文本属性。</p>
<p><a href="#">CanvasRenderingContext2D.fillText()</a><br>Draws (fills) a given text at the given (x,y) position.<br>在给定的位置 (x,y) 绘制 (填充) 给定的文本。<br><a href="#">CanvasRenderingContext2D.strokeText()</a><br>Draws (strokes) a given text at the given (x, y) position.<br>在给定的位置 (x,y) 绘制 (描边) 给定的文本。<br><a href="#">CanvasRenderingContext2D.measureText()</a><br>Returns a TextMetrics object.<br>返回 TextMetrics 对象。</p>
<h3 id="线条风格">线条风格</h3><p>The following methods and properties control how lines are drawn.<br>下面的方法和属性控制线条如何绘制。</p>
<p><a href="#">CanvasRenderingContext2D.lineWidth</a><br>Width of lines. Default 1.0<br>线条的宽度，默认是 1.0<br><a href="#">CanvasRenderingContext2D.lineCap</a><br>Type of endings on the end of lines. Possible values: butt (default), round, square.<br>线条结束时的结束种类。可用的值：butt (默认)，round，square。<br><a href="#">CanvasRenderingContext2D.lineJoin</a><br>Defines the type of corners where two lines meet. Possible values: round, bevel, miter (default).<br>定义两条线条相交时边角的类型。可用的值：round，bevel，miter (defautl)。<br><a href="#">CanvasRenderingContext2D.miterLimit</a><br>Miter limit ratio. Default 10.<br>斜接限制比率。默认是 10。具体是什么我也不了解，<a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Applying_styles_and_colors#A_demo_of_the_miterLimit_property" target="_blank" rel="external">这里</a>有介绍<br><a href="#">CanvasRenderingContext2D.getLineDash()</a><br>Returns the current line dash pattern array containing an even number of non-negative numbers.<br>返回当前虚线线条图案数组，包含一组偶数的非负数数字。<br><a href="#">CanvasRenderingContext2D.setLineDash()</a><br>Sets the current line dash pattern.<br>设置当前虚线线条图案。<br><a href="#">CanvasRenderingContext2D.lineDashOffset</a><br>Specifies where to start a dash array on a line.<br>指定虚线图案从线条的哪个位置开始。</p>
<h3 id="文本风格">文本风格</h3><p>The following properties control how text is laid out.<br>下面的属性控制文本如何布局。</p>
<p><a href="#">CanvasRenderingContext2D.font</a><br>Font setting. Default value 10px sans-serif.<br>字体设置。默认值是 10px sans-serif。</p>
<p><a href="#">CanvasRenderingContext2D.textAlign</a><br>Text alignment setting. Possible values: start (default), end, left, right or center.<br>文本对齐设置。可用的值：start  (默认值)，end，left，right 或 center。</p>
<p><a href="#">CanvasRenderingContext2D.textBaseline</a><br>Baseline alignment setting. Possible values: top, hanging, middle, alphabetic (default), ideographic, bottom.<br>基线对齐设置。可用的值：top，hanging，middle，alphabetic (默认)，ideographic，bottom。</p>
<p><a href="#">CanvasRenderingContext2D.direction</a><br>Directionality. Possible values: ltr, rtl, inherit (default).<br>文本方向。可用的值：ltr，rtl，继承 (默认)。</p>
<h3 id="填充和描边风格">填充和描边风格</h3><p>Fill styling is used for colors and styles inside shapes and stroke styling is used for the lines around shapes.<br>填充风格被用作图形内的风格和颜色，描边风格被用作环绕图形的线条的风格。</p>
<p><a href="1">CanvasRenderingContext2D.fillStyle</a><br>Color or style to use inside shapes. Default #000 (black).<br>图形内的颜色和风格。默认是 #000 (黑色)。</p>
<p><a href="1">CanvasRenderingContext2D.strokeStyle</a><br>Color or style to use for the lines around shapes. Default #000 (black).<br>围绕图形的线条的颜色和风格。默认是 #000 (黑色)。</p>
<h3 id="渐变和图案">渐变和图案</h3><p><a href="1">CanvasRenderingContext2D.createLinearGradient()</a><br>Creates a linear gradient along the line given by the coordinates represented by the parameters.<br>沿着参数给定坐标的线条创建线型渐变。</p>
<p><a href="1">CanvasRenderingContext2D.createRadialGradient()</a><br>Creates a radial gradient given by the coordinates of the two circles represented by the parameters.<br>通过参数指定的两个圆形的坐标创建迳向渐变。</p>
<p><a href="1">CanvasRenderingContext2D.createPattern()</a><br>Creates a pattern using the specified image (a CanvasImageSource). It repeats the source in the directions specified by the repetition argument. This method returns a CanvasPattern.<br>使用指定的图像创建图案。 如果指定了 repetition 参数他会在指定方向重复绘制图案。这个方法返回一个 CanvasPattern。</p>
<h3 id="阴影">阴影</h3><p><a href="1">CanvasRenderingContext2D.shadowBlur</a><br>Specifies the blurring effect. Default 0<br>指定模糊效果。默认是 0.</p>
<p><a href="1">CanvasRenderingContext2D.shadowColor</a><br>Color of the shadow. Default fully-transparent black.<br>阴影的颜色。默认是完全不透明的黑色。</p>
<p><a href="1">CanvasRenderingContext2D.shadowOffsetX</a><br>Horizontal distance the shadow will be offset. Default 0.<br>阴影水平偏移的距离。默认是 0。</p>
<p><a href="1">CanvasRenderingContext2D.shadowOffsetY</a><br>Vertical distance the shadow will be offset. Default 0.<br>阴影垂直偏移的距离。默认是 0。</p>
<h3 id="路径">路径</h3><p>The following methods can be used to manipulate paths of objects.<br>下面的方法可以用作操作对象的路径。</p>
<p><a href="1">CanvasRenderingContext2D.beginPath()</a><br>Starts a new path by emptying the list of sub-paths. Call this method when you want to create a new path.<br>从一个空的子路径列表开始设置新的路径。当你想创建新的路径请调用这个方法。</p>
<p><a href="1">CanvasRenderingContext2D.closePath()</a><br>Causes the point of the pen to move back to the start of the current sub-path. It tries to draw a straight line from the current point to the start. If the shape has already been closed or has only one point, this function does nothing.<br>使画笔的当前点移动回当前子路径的起始位置。他会尝试绘制一条直线从当前点到起始点。如果图形已经闭合或只有一个点，这个方法不做任何事情。</p>
<p><a href="1">CanvasRenderingContext2D.moveTo()</a><br>Moves the starting point of a new sub-path to the (x, y) coordinates.<br>使新子路径的当前点移动到 (x,y) 坐标。  </p>
<p><a href="1">CanvasRenderingContext2D.lineTo()</a><br>Connects the last point in the subpath to the x, y coordinates with a straight line.<br>连接子路径最新的点到 x,y 座标并绘制直线。</p>
<p><a href="1">CanvasRenderingContext2D.bezierCurveTo()</a><br>Adds a cubic Bézier curve to the path. It requires three points. The first two points are control points and the third one is the end point. The starting point is the last point in the current path, which can be changed using moveTo() before creating the Bézier curve.<br>增加贝塞尔曲线到路径。前两个点为控制点，第三个点是结束点。起始点是当前路径中最新的点，他可以使用在创建贝塞尔曲线之前使用 moveTo() 更改。</p>
<p><a href="1">CanvasRenderingContext2D.quadraticCurveTo()</a><br>Adds a quadratic Bézier curve to the current path.<br>增加二次贝塞尔曲线到当前路径</p>
<p><a href="1">CanvasRenderingContext2D.arc()</a><br>Adds an arc to the path which is centered at (x, y) position with radius r starting at startAngle and ending at endAngle going in the given direction by anticlockwise (defaulting to clockwise).<br>增加一个弧形到路径，他的中心在 (x,y) ，半径 r 从 startAngle 开始在 endAngle 结束，通过设置方向决定是顺时针还是逆时针 (默认是顺时针)。</p>
<p><a href="1">CanvasRenderingContext2D.arcTo()</a><br>Adds an arc to the path with the given control points and radius, connected to the previous point by a straight line.<br>增加一个弧形到路径，可以传入控制点和半径，以直线连接上一个点。</p>
<p><a href="1">CanvasRenderingContext2D.ellipse() </a><br>Adds an ellipse to the path which is centered at (x, y) position with the radii radiusX and radiusY starting at startAngle and ending at endAngle going in the given direction by anticlockwise (defaulting to clockwise).<br>增加一个椭圆到路径他的中心在 (x,y)，他的半径是 radiusX 和 radiusY，从 startAngle 开始 到 endAngle 结束，设置方向决定是顺时针还是逆时针 (默认是顺时针)。</p>
<p><a href="1">CanvasRenderingContext2D.rect()</a><br>Creates a path for a rectangle at position (x, y) with a size that is determined by width and height.<br>增加一个矩形到路径，位置在 (x,y)，由 width 和 height 决定宽高。</p>
<h3 id="绘制路径">绘制路径</h3><p><a href="1">CanvasRenderingContext2D.fill()</a><br>Fills the subpaths with the current fill style.<br>以当前设置的 fill style 填充子路径</p>
<p><a href="1">CanvasRenderingContext2D.stroke()</a><br>Strokes the subpaths with the current stroke style.<br>以当前的 stroke style 描边子路径。</p>
<p><a href="1">CanvasRenderingContext2D.drawFocusIfNeeded()</a><br>If a given element is focused, this method draws a focus ring around the current path.<br>如果给定的元素是聚焦的，这个方法围绕当前路径绘制一个聚焦环。</p>
<p><a href="1">CanvasRenderingContext2D.scrollPathIntoView()</a><br>Scrolls the current path or a given path into the view.<br>滚动当前路径或给定一个路径到 view。 (This is an experimental technology)</p>
<p><a href="1">CanvasRenderingContext2D.clip()</a><br>Creates a clipping path from the current sub-paths. Everything drawn after clip() is called appears inside the clipping path only. For an example, see Clipping paths in the Canvas tutorial.<br>从当前子路径创建一个剪切路径。所有在调用 clip()  之后的绘制的内容只会出现在剪切路径内。例如，见 Canvas 指南中的<a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing" target="_blank" rel="external">剪切路径</a>。</p>
<p><a href="1">CanvasRenderingContext2D.isPointInPath()</a><br>Reports whether or not the specified point is contained in the current path.<br>检测指定的点是否包含于当前路径内。</p>
<p><a href="1">CanvasRenderingContext2D.isPointInStroke()</a><br>Reports whether or not the specified point is inside the area contained by the stroking of a path.<br>检测指定的点是否在路径描边区域内。</p>
<h3 id="转换过程">转换过程</h3><p>Objects in the CanvasRenderingContext2D rendering context have a current transformation matrix and methods to manipulate it. The transformation matrix is applied when creating the current default path, painting text, shapes and Path2D objects. The methods listed below remain for historical and compatibility reasons as SVGMatrix objects are used in most parts of the API nowadays and will be used in the future instead.</p>
<p>在 CanvasRenderingContext2D 渲染上下文中的对象拥有当前转换过程矩阵和方法操纵它。当创建当前默认路径，打印文本，图形和 2D 路径对象时会应用转换过程矩阵。下面的方法列表因为历史和兼容 SVGMatrix 对象的原因现在可以使用但会在未来被替代。</p>
<p><a href="1">CanvasRenderingContext2D.currentTransform</a><br>Current transformation matrix (SVGMatrix object).<br>当前转换过程矩阵 (SVGMatrix 对象)。</p>
<p><a href="1">CanvasRenderingContext2D.rotate()</a><br>Adds a rotation to the transformation matrix. The angle argument represents a clockwise rotation angle and is expressed in radians.<br>增加一个旋转动作到转换过程矩阵。angle 参数代表顺时针旋转，用弧度表示。</p>
<p><a href="1">CanvasRenderingContext2D.scale()</a><br>Adds a scaling transformation to the canvas units by x horizontally and by y vertically.<br>增加一个伸缩转换过程到 canvas， x 表示水平缩放 y 表示垂直缩放的距离。</p>
<p><a href="1">CanvasRenderingContext2D.translate()</a><br>Adds a translation transformation by moving the canvas and its origin x horzontally and y vertically on the grid.<br>增加一个移动转换过程通过移动 canvas，参数针对 grid 的初始点，x 为水平移动，y 为垂直移动。</p>
<p><a href="1">CanvasRenderingContext2D.transform()</a><br>Multiplies the current transformation matrix with the matrix described by its arguments.<br>根据传入的参数描述修改当前转换过程矩阵。</p>
<p><a href="1">CanvasRenderingContext2D.setTransform()</a><br>Resets the current transform to the identity matrix, and then invokes the transform() method with the same arguments.<br>重设当前 transform 为指定矩阵，然后以同样的参数触发 transform() 方法。</p>
<p><a href="1">CanvasRenderingContext2D.resetTransform() </a><br>Resets the current transform by the identity matrix.<br>以指定矩阵重置当前 tansform。</p>
<h3 id="合成">合成</h3><p><a href="1">CanvasRenderingContext2D.globalAlpha</a><br>Alpha value that is applied to shapes and images before they are composited onto the canvas. Default 1.0 (opaque).<br>他们合成到 canvas 之前应用的图形和图像的 Alpha 值。默认是 1.0 (不透明)。</p>
<p><a href="1">CanvasRenderingContext2D.globalCompositeOperation</a><br>With globalAlpha applied this sets how shapes and images are drawn onto the existing bitmap.<br>globalAlpha 与这个设置一起决定如何讲图形和图像绘制到已有的位图。</p>
<h3 id="绘制图像">绘制图像</h3><p><a href="1">CanvasRenderingContext2D.drawImage()</a><br>Draws the specified image. This method is available in multiple formats, providing a great deal of flexibility in its use.<br>绘制指定的图像。这个方法可以应用多种格式，提供很大的灵活性。</p>
<h3 id="像素操作">像素操作</h3><p>See also the <a href="1">ImageData</a> object.<br>见 ImageData 对象。</p>
<p><a href="1">CanvasRenderingContext2D.createImageData()</a><br>Creates a new, blank ImageData object with the specified dimensions. All of the pixels in the new object are transparent black.<br>以指定尺寸创建一个新的，空白的 ImageData 对象。在这个对象的所有像素点都是透明的黑色。</p>
<p><a href="1">CanvasRenderingContext2D.getImageData()</a><br>Returns an ImageData object representing the underlying pixel data for the area of the canvas denoted by the rectangle which starts at (sx, sy) and has an sw width and sh height.<br>返回一个 ImageData 对象，表示 Canvas 指定范围内底层像素数据，从 (sx,sy) 开始的宽高。</p>
<p><a href="1">CanvasRenderingContext2D.putImageData()</a><br>Paints data from the given ImageData object onto the bitmap. If a dirty rectangle is provided, only the pixels from that rectangle are painted.<br>从给定的 ImageData 对象打印数据到位图。如果提供了矩形，那么只有矩形内的像素会打印。</p>
<h3 id="图像平滑">图像平滑</h3><p><a href="1">CanvasRenderingContext2D.imageSmoothingEnabled </a><br>Image smoothing mode; if disabled, images will not be smoothed if scaled.<br>图像平滑模式；如果禁用，伸缩图像时将不会平滑。</p>
<h3 id="Canvas_状态">Canvas 状态</h3><p>The CanvasRenderingContext2D rendering context contains a variety of drawing style states (attributes for line styles, fill styles, shadow styles, text styles). The following methods help you to work with that state:<br>CanvasRenderingContext2D 渲染上下文包含各种绘制风格状态 (线条风格，填充风格，阴影风格，文字风格等的属性)。下面的方法帮助你操作这些状态。</p>
<p><a href="1">CanvasRenderingContext2D.save()</a><br>Saves the current drawing style state using a stack so you can revert any change you make to it using restore().<br>使用堆栈保存当前绘制风给状态，因此你可以使用 restore() 回滚你做的任意更改。</p>
<p><a href="1">CanvasRenderingContext2D.restore()</a><br>Restores the drawing style state to the last element on the ‘state stack’ saved by save().<br>在 “状态堆栈” 恢复之前通过 save() 保存的绘制风格状态到最新的元素。</p>
<p><a href="1">CanvasRenderingContext2D.canvas</a><br>A read-only back-reference to the HTMLCanvasElement. Might be null if it is not associated with a <canvas> element.<br>指向 HTMLCanvasElement 元素的只读对象。如果没有与 <canvas> 元素关联那么他有可能是 null。</canvas></canvas></p>
<h3 id="点击区域">点击区域</h3><p><a href="1">CanvasRenderingContext2D.addHitRegion() </a><br>Adds a hit region to the canvas.<br>添加点击区域到 canvas。</p>
<p><a href="1">CanvasRenderingContext2D.removeHitRegion() </a><br>Removes the hit region with the specified id from the canvas.<br>移除 canvas 中特定 id 的点击区域</p>
<p><a href="1">CanvasRenderingContext2D.clearHitRegions() </a><br>Removes all hit regions from the canvas.<br>移除 canvas 中所有点击区域。</p>

      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/前端/"> #前端 </a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/3015/FrontEndNavigation/">前端 EXAMPLE 导航</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/cijtdbkk50066erf77e6y2xk0/">Flexbox 布局  (二) Container</a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    
      <div class="comments" id="comments">
        
          <div class="ds-thread" data-thread-key="2016/ciljljzzv0000rzjdnjml49bu/"
               data-title="文章标题" data-url="http://yoursite.com/2016/ciljljzzv0000rzjdnjml49bu/">
          </div>
        
      </div>
    
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Humyang" />
          <p class="site-author-name">Humyang</p>
        </div>
        <p class="site-description motion-element"></p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">59</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">26</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="http://weibo.com/yspace" target="_blank">weibo</a>
            </span>
            
          
        </div>

        
        

      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Canvas_是什么"><span class="nav-number">1.</span> <span class="nav-text">Canvas 是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其它资源"><span class="nav-number">2.</span> <span class="nav-text">其它资源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Canvas_能做什么"><span class="nav-number">3.</span> <span class="nav-text">Canvas 能做什么</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#画矩形"><span class="nav-number">3.1.</span> <span class="nav-text">画矩形</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#画文本"><span class="nav-number">3.2.</span> <span class="nav-text">画文本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线条风格"><span class="nav-number">3.3.</span> <span class="nav-text">线条风格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文本风格"><span class="nav-number">3.4.</span> <span class="nav-text">文本风格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#填充和描边风格"><span class="nav-number">3.5.</span> <span class="nav-text">填充和描边风格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#渐变和图案"><span class="nav-number">3.6.</span> <span class="nav-text">渐变和图案</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#阴影"><span class="nav-number">3.7.</span> <span class="nav-text">阴影</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路径"><span class="nav-number">3.8.</span> <span class="nav-text">路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#绘制路径"><span class="nav-number">3.9.</span> <span class="nav-text">绘制路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#转换过程"><span class="nav-number">3.10.</span> <span class="nav-text">转换过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#合成"><span class="nav-number">3.11.</span> <span class="nav-text">合成</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#绘制图像"><span class="nav-number">3.12.</span> <span class="nav-text">绘制图像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#像素操作"><span class="nav-number">3.13.</span> <span class="nav-text">像素操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图像平滑"><span class="nav-number">3.14.</span> <span class="nav-text">图像平滑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Canvas_状态"><span class="nav-number">3.15.</span> <span class="nav-text">Canvas 状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点击区域"><span class="nav-number">3.16.</span> <span class="nav-text">点击区域</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2016
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Humyang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  
  
<script type="text/javascript" id="bootstrap.scrollspy.custom">
  /* ========================================================================
  * Bootstrap: scrollspy.js v3.3.2
  * http://getbootstrap.com/javascript/#scrollspy
  * ========================================================================
  * Copyright 2011-2015 Twitter, Inc.
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  * ======================================================================== */

  /**
   * Custom by iissnan
   *
   * - Add a `clear.bs.scrollspy` event.
   * - Esacpe targets selector.
   */


  +function ($) {
    'use strict';

    // SCROLLSPY CLASS DEFINITION
    // ==========================

    function ScrollSpy(element, options) {
      this.$body          = $(document.body)
      this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
      this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
      this.selector       = (this.options.target || '') + ' .nav li > a'
      this.offsets        = []
      this.targets        = []
      this.activeTarget   = null
      this.scrollHeight   = 0

      this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
      this.refresh()
      this.process()
    }

    ScrollSpy.VERSION  = '3.3.2'

    ScrollSpy.DEFAULTS = {
      offset: 10
    }

    ScrollSpy.prototype.getScrollHeight = function () {
      return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }

    ScrollSpy.prototype.refresh = function () {
      var that          = this
      var offsetMethod  = 'offset'
      var offsetBase    = 0

      this.offsets      = []
      this.targets      = []
      this.scrollHeight = this.getScrollHeight()

      if (!$.isWindow(this.$scrollElement[0])) {
        offsetMethod = 'position'
        offsetBase   = this.$scrollElement.scrollTop()
      }

      this.$body
        .find(this.selector)
        .map(function () {
          var $el   = $(this)
          var href  = $el.data('target') || $el.attr('href')
          var $href = /^#./.test(href) && $(escapeSelector(href)) // Need to escape selector.

          return ($href
            && $href.length
            && $href.is(':visible')
            && [[$href[offsetMethod]().top + offsetBase, href]]) || null
        })
        .sort(function (a, b) { return a[0] - b[0] })
        .each(function () {
          that.offsets.push(this[0])
          that.targets.push(this[1])
        })


    }

    ScrollSpy.prototype.process = function () {
      var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
      var scrollHeight = this.getScrollHeight()
      var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
      var offsets      = this.offsets
      var targets      = this.targets
      var activeTarget = this.activeTarget
      var i

      if (this.scrollHeight != scrollHeight) {
        this.refresh()
      }

      if (scrollTop >= maxScroll) {
        return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
      }

      if (activeTarget && scrollTop < offsets[0]) {
        $(this.selector).trigger('clear.bs.scrollspy')  // Add a custom event.
        this.activeTarget = null
        return this.clear()
      }

      for (i = offsets.length; i--;) {
        activeTarget != targets[i]
          && scrollTop >= offsets[i]
          && (!offsets[i + 1] || scrollTop <= offsets[i + 1])
          && this.activate(targets[i])
      }
    }

    ScrollSpy.prototype.activate = function (target) {
      this.activeTarget = target

      this.clear()

      var selector = this.selector +
        '[data-target="' + target + '"],' +
        this.selector + '[href="' + target + '"]'

      var active = $(selector)
        .parents('li')
        .addClass('active')

      if (active.parent('.dropdown-menu').length) {
        active = active
          .closest('li.dropdown')
          .addClass('active')
      }

      active.trigger('activate.bs.scrollspy')
    }

    ScrollSpy.prototype.clear = function () {
      $(this.selector)
        .parentsUntil(this.options.target, '.active')
        .removeClass('active')
    }


    // SCROLLSPY PLUGIN DEFINITION
    // ===========================

    function Plugin(option) {
      return this.each(function () {
        var $this   = $(this)
        var data    = $this.data('bs.scrollspy')
        var options = typeof option == 'object' && option

        if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
        if (typeof option == 'string') data[option]()
      })
    }

    var old = $.fn.scrollspy

    $.fn.scrollspy             = Plugin
    $.fn.scrollspy.Constructor = ScrollSpy


    // SCROLLSPY NO CONFLICT
    // =====================

    $.fn.scrollspy.noConflict = function () {
      $.fn.scrollspy = old
      return this
    }


    // SCROLLSPY DATA-API
    // ==================

    $(window).on('load.bs.scrollspy.data-api', function () {
      $('[data-spy="scroll"]').each(function () {
        var $spy = $(this)
        Plugin.call($spy, $spy.data())
      })
    })

  }(jQuery);
</script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0 && isDesktop()) {
        setTimeout(function () {
          $('.sidebar-toggle').trigger('click');
        }, 800);
      }
    });
  </script>




  

  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"humyang"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62263979-1', 'auto');
  ga('send', 'pageview');
  </script>

</body>
</html>
