<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>




  <meta name="keywords" content="iOS," />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />




  <title> iOS 笔记《About the iOS Technologies：Cocoa Touch Layer》 // Humyang </title>
</head>

<body>
<!--[if lte IE 8]> <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'> <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari." style='margin-left:auto;margin-right:auto;display: block;'/></a></div> <![endif]-->
  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Humyang</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              iOS 笔记《About the iOS Technologies：Cocoa Touch Layer》
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-25
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/iOS/">iOS</a>

              
              
                ， 
              

            
              <a href="/categories/iOS/翻译/">翻译</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/iOS-Note-About-the-iOS-Technologies-Cocoa-Touch-Layer/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/iOS-Note-About-the-iOS-Technologies-Cocoa-Touch-Layer/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <p>记录关于学习过的 iOS 文档</p>
<a id="more"></a>
<p><a href="https://developer.apple.com/library/prerelease/ios/documentation/Miscellaneous/Conceptual/iPhoneOSTechOverview/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007898-CH1-SW1" target="_blank" rel="external">原文地址</a></p>
<hr>
<p>Cocoa Touch 层包含了构建 iOS app 的关键的框架。这些框架定义了 app 的外观。它们也提供了基础的 app 架构和一些关键的技术例如多任务，基础触碰输入，推送通知，和许多高级别系统服务。当你在设计 app 时，你应该首先研究这一层的技术是否可以满足你的需求。</p>
<h1 id="High-Level_Features"><strong>High-Level Features</strong></h1><p>下面的章节描述了可以在 Cocoa Touch 层使用的关键的技术。</p>
<h2 id="App_Extensions">App Extensions</h2><p>iOS 8 让你通过提供一个 <em>App extension</em> 来拓展系统的选择区域，它是一段代码可以启动自定义功能到用户任务范围内。你可以提供一个 <em>App extension</em> 帮助用户投递内容到你的社交网站分享页面。用户安装并启用该 <em>App extesion</em> 后，当他们在 app 中点击共享按钮时可以选择它。你自定义的分享功能拓展提供接收，验证，和投递用户提供的内容等功能的代码。系统会在分享菜单中列出拓展，当用户选中它之后还会实例化他们。</p>
<blockquote>
<p>例如 safai 的分享按钮和 pocket 的发送到 pocket 功能。</p>
</blockquote>
<p>在 Xcode 中，可以通过添加 preconfigured app extension target 到 app 中创建拓展，用户安装 app 后会包含该拓展，用户可以在 app 设置中启用这个拓展。当用户运行了其他 app，系统会让这个拓展变为可用并会出现在系统 UI 中，例如分享菜单。</p>
<p>iOS 支持以下区域的 app extensions，也称为拓展点：</p>
<ul>
<li><em>Share.</em>    分享内容到社交网站或机构。</li>
<li><em>Action.</em>  在当前内容执行一些简单的任务。</li>
<li><em>Widget.</em> 提供快速更新或今日视图通知中心启用简短的任务。 </li>
<li><em>Photo editing.</em>  提供在 Photos app 内编辑图像或视频。</li>
<li><em>Document provider.</em>  提供可以被其他 app 访问的文档存储位置。App 可以使用 document picker view controller 打开文件并通过 Document Provider 管理文件或把文件移动到 Document Provider。</li>
<li><em>Custom keyboard.</em> 用户可以在系统键盘位置选择自定义键盘应用在设备上所有 app 中。</li>
</ul>
<p>每一个拓展点的使用都定义了相应的 API。当你准备使用拓展模版开始进行开发，你会获得被你选择的拓展点定义的包含方法存根和属性列表设置的默认 target。</p>
<p>更多相关的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/ExtensibilityPG/index.html#//apple_ref/doc/uid/TP40014214" target="_blank" rel="external"><em>App Extension Programming Guide</em></a></p>
<h2 id="Handoff">Handoff</h2><p>Handoff 是在 OS X 和 iOS 跨设备连续性的拓展的用户体验的功能。Handoff 使用户可以在一台设备中开始一个活动，然后切换到其他设备并在该设备恢复相同的活动。例如，某个用户从 Safari 移到登陆了相同的 Apple ID 账户的 iOS 设备浏览一篇很长的文章，相同的页面会在 iOS 的 Safari 打开，并且滚动条位置和启始设备相同，Handoff 使这个体验尽可能平稳顺畅。</p>
<p>App 想参与到 Handoff ，需要在 Foundation 中采用少量的 API。app 中每个正在进行的活动代表包含了需要在其他设备恢复活动的数据的用户活动对象。当用户选择恢复该活动，对象会发送到正在恢复的设备。每个用户活动对象都有一个在适当的时候被调用来刷新活动状态的委托对象，例如用户活动对象在两个设备之间发送之前。</p>
<p>如果持续的一个活动需要更多的数据它会很容易的被转换成用户活动对象，恢复中的 app 有打开一个 stream 到起始的 app 的选项。基于文档的 app 为用户基于 iColud 文档的工作自动的提供持续活动的支持。</p>
<p>更多相关的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Conceptual/Handoff/HandoffFundamentals/HandoffFundamentals.html#//apple_ref/doc/uid/TP40014338" target="_blank" rel="external"><em>Handoff Programming Guide</em></a></p>
<h2 id="Document_Picker">Document Picker</h2><p>document picker view controller (<a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIDocumentPickerViewController_Class/index.html#//apple_ref/occ/cl/UIDocumentPickerViewController" target="_blank" rel="external">UIDocumentPickerViewController</a>) 授权用户访问你的应用程序的沙箱外的文件。这是两个 app 之间的简单分享文档机制。它也可以实现更加复杂的工作流程，因为用户可以在多个 app 之间编辑单个文档。</p>
<p>document picker 让你从 document providers 的数字访问的文件。例如，iCloud document provider 授权访问其他 app 存储在 iCloud 容器内的文档。<br>第三方开发者可以通过使用 Storage Provider extension 提供额外的 document provider。</p>
<p>更多关于如何使用 document picker 的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/FileManagement/Conceptual/DocumentPickerProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40014451" target="_blank" rel="external"><em>Document Picker Programming Guide</em></a>。</p>
<h2 id="AirDrop">AirDrop</h2><p>AirDrop 让用户分享图片，文档，URL，和其他类型的数据给邻近的设备。提供使用 AirDrop 发送文件到其他 iOS 设备的支持是内置现有的 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIActivityViewController_Class/index.html#//apple_ref/occ/cl/UIActivityViewController" target="_blank" rel="external"><em>UIActivityViewController</em></a>  类。该类为你指定的分享内容显示不同的选项。如果你没有在使用这个类，你应该考虑添加它到你的界面。</p>
<p>要接收使用 AirDrop 发送的文件，你的 app 必须做一下事情：</p>
<ul>
<li>在 Xcode 声明支持适当的文件类型。(Xcode 添加适当的 keys 到你的 app 的 <code>Info.plist</code> 文件) 系统使用这些信息进行判断你的 app 是否可以打开给定的文件。</li>
<li>在你的 app delegate 声明 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIActivityViewController_Class/index.html#//apple_ref/occ/cl/UIActivityViewController" target="_blank" rel="external">application:openURL:sourceApplication:annotion:</a> 方法。(新的文件被接收后系统调用该方法)</li>
</ul>
<p>发送给你的 app 的文件放置在 <code>home</code> 目录下的 <code>Documents/Inbox</code>。如果你打算修改文件，你必须将文件移出该目录才可以执行此操作。(该目录内的文件系统只允许你的 app 读取和删除文件。) 保存在该目录下的文件使用了 data protection 加密，因此你必须为设备当前已被锁定文件无法访问做准备。</p>
<p>更多关于使用动态视图控制器共享数据，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIActivityViewController_Class/index.html#//apple_ref/doc/uid/TP40011976" target="_blank" rel="external"><em>UIActivityViewController Class Reference</em></a>。</p>
<h2 id="TextKit">TextKit</h2><p>TextKit 是一个功能齐全，高级别的文本处理和精美排版的类集合。使用 TextKit 你可以编排样式文本成段落，栏目，和页面；你可以使文本随意的环绕任何区域例如图像；你可以用它管理复合的字体。如果你正在考虑使用 Core Text 实现文本渲染，你应该考虑使用 TextKit 作为替代。TextKit 整合了所有 UIKit 基于文本的空间使 app 创建，编辑，显示和存储文本更轻松，在 iOS 相比以前可能更少的代码。</p>
<p>TextKit 包含新的 UIKit 类，并随着已存在的类拓展，包含了以下：</p>
<ul>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/index.html#//apple_ref/occ/cl/NSAttributedString" target="_blank" rel="external">NSAttributedString</a> 已经被拓展支持新的属性。</li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/NSLayoutManager_Class_TextKit/index.html#//apple_ref/occ/cl/NSLayoutManager" target="_blank" rel="external">NSLayoutManager</a> 生成字形和布局文本。</li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/NSTextContainer_Class_TextKit/index.html#//apple_ref/occ/cl/NSTextContainer" target="_blank" rel="external">NSTextContainer</a> 定义了文本被布局的区域</li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/NSTextStorage_Class_TextKit/index.html#//apple_ref/occ/cl/NSTextStorage" target="_blank" rel="external">NSTextStorage</a> 定义了管理基于文本内容的基本的接口。</li>
</ul>
<p>更多关于 TextKit 的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009542" target="_blank" rel="external"><em>Text Programming Guide for iOS</em></a>。</p>
<h2 id="UIKit_Dynamics">UIKit Dynamics</h2><p>app 现在可以为 UIView 对象和其他符合 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIDynamicItem_Protocol/index.html#//apple_ref/occ/intf/UIDynamicItem" target="_blank" rel="external"><em>UIDynamicItem</em></a> 协议的对象指定动态行为( 符合这个协议的对象被称为 <em>dynamic items</em>)。动态行为通过结合真实世界的行为和特点到你的 app 的用户界中提供了提升你的 app 用户体验的方式。UIKit dynamics 支持以下类型的行为。</p>
<ul>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIAttachmentBehavior_Class/index.html#//apple_ref/occ/cl/UIAttachmentBehavior" target="_blank" rel="external">UIAttachmentBehavior</a> 对象连接了两个动态项之间或动态项和一个点之间。当一个动态项 (或点) 移动了，绑定的项也会移动。连接不是完全静态。附加的行为有衰减和震动属性用来判断如何随着时间进行改变。</li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UICollisionBehavior_Class/index.html#//apple_ref/occ/cl/UICollisionBehavior" target="_blank" rel="external">UICollisionBehavior</a> 对象让动态项参与到彼此和被指定了边界的行为的碰撞。这行为也让这些项对碰撞做出恰当的响应。</li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIGravityBehavior_Class/index.html#//apple_ref/occ/cl/UIGravityBehavior" target="_blank" rel="external">UIGravityBehavior</a> 对象指定重力矢量给它的动态项。动态项在矢量的方向加速直到它们碰撞到了其他适当的已配置项或到达边界。</li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIPushBehavior_Class/index.html#//apple_ref/occ/cl/UIPushBehavior" target="_blank" rel="external">UIPushBehavior</a> 对象指定连续或瞬间的力矢量给它的动态项。</li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UISnapBehavior_Class/index.html#//apple_ref/occ/cl/UISnapBehavior" target="_blank" rel="external">UISnapBehavior</a> 对象指定了卡扣点给动态项。项以已配置的效果扣住一个点。例如，动态项可以扣住一个点就好像是被附加到弹簧一样。</li>
</ul>
<p>当你增加他们到一个动画制作者对象时动态行为会变为活跃，它是 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIDynamicAnimator_Class/index.html#//apple_ref/occ/cl/UIDynamicAnimator" target="_blank" rel="external"><em>UIDynamicAnimator</em></a> 类的一个实例。动画制作者提供上下文给动态行为执行。给定的动态项可以有多个行为，但所有这些行为必须由同一个动画制作者对象动画化。</p>
<p>更多关于你可以应用的行为，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIKit_Framework/index.html#//apple_ref/doc/uid/TP40006955" target="_blank" rel="external"><em>UIKit Framework Reference </em></a></p>
<h2 id="Multitasking">Multitasking</h2><p>电池续航时间是 iOS 设备的用户重要的考虑因素 iOS 的多任务模式被设计为最大化电池的续航时间同时给予 app 时间完成它们重要的工作。当用户按下 home 按钮，当前的 app 转移到后台执行上下文。如果该 app 没有更多的工作要做，那么它会暂停活动执行并投放入一个 “freeze-dried” 状态，它仍然遗留在内存但不执行任何代码。app 需要完成特殊类型的工作可以对系统要求在后台执行的时间。例如：</p>
<ul>
<li>app 可以请求一定量的时间完成重要的任务。</li>
<li>app 需要支持特定的服务(例如音频播放)可以请求时间来提供这些服务。</li>
<li>app 可以使用本地通知在特定的时间生成用户警报提示，无论 app 是否正在运行。</li>
<li>app 可以定期的从网络下载内容。</li>
<li>app 可以在一个对推送通知的响应的中下载内容。</li>
</ul>
<p>更多如何支持 iOS 多任务模式的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007072" target="_blank" rel="external"><em>App Programming Guide for iOS</em></a></p>
<h2 id="Auto_Layout">Auto Layout</h2><p>Auto layout 帮你用非常少的代码就可以构建动态界面。使用 Auto Layout 时，你要定义元素如何在你的界面上布局的规则。这些规则表示大量的阶级关系并且对比以前使用的 springs 和 struts 模式更加的直观。例如，你可以指定按钮在父视图的左边缘位置永远是 20 个点。</p>
<p>在实体使用的 Auto Layout 是一个 Objective-C 对象被称为约束 (<em>constraints</em>)。约束提供几个好处:</p>
<ul>
<li>通过单独的字符串交换实现定位，而不需要你更新你的布局。</li>
<li>支持为右到左的语言把用户界面元素镜像，例如希伯来语和阿拉伯语。</li>
<li>更好的分离在视图层和控制器层之间的对象的职责。视图对象总是有标准尺寸的值，它在父视图内定位，并且对同级视图相对定位。如果有些不标准的需求视图控制器可以覆盖这些值。</li>
</ul>
<p>更多关于如何使用 Auto Layout 的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010853" target="_blank" rel="external"><em>Auto Layout Guide</em></a>。</p>
<h2 id="Storyboards">Storyboards</h2><p>Storyboards 是设计你的 app 的用户界面的推荐方式。Storyboards 把整个用户界面显示在一个地方使得你可以看到所有的你的视图和视图控制器和明白它们是如何一起工作的。Storyboards 重要的部分是能定义 segues，它是从一个视图控制器到另一个控制器的转换。这些转换让你捕获你的用户界面除了内容外的流程。你可以可以在 Xcode中或以编程的方式初始化他们来定义这些过渡效果。</p>
<p>你可以使用单个 storyboard 文件存储你的 app 的所有视图控制器和视图，或者你可以使用多个视图 storyboards 组织你的界面部分。在编译时间，Xcode 将 storyboards 文件的内容分为散块，使其能够单独的加载，获得更好的性能。你的 app 永远不需要直接操纵这些部分。UIKit 框架了提供方便的类从你的代码中访问 storyboards 的内容。</p>
<p>更多有关使用 storyboards 设计你的用户界面的内容，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/ToolsLanguages/Conceptual/Xcode_Overview/index.html#//apple_ref/doc/uid/TP40010215" target="_blank" rel="external"><em>Xcode Overview</em></a>。</p>
<p>更多关于如何从你的代码访问 storyboards，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIStoryboard_Class/index.html#//apple_ref/doc/uid/TP40010909" target="_blank" rel="external"><em>UIStoryboard Class Reference</em></a>。</p>
<h2 id="UI_State_Preservation">UI State Preservation</h2><p>状态保存让你的 app 出现时像正在运行一样给用户完美的体验，即使当时 app 并没有运行。如果系统遇到内存方面的压力，它可能会默默的强制中断一个或多个后台 app。当一个 app 从前台转为后台，它可以保持它的视图和视图控制器的状态。在下一次运行周期，它可以使用已保持的视图和视图控制器使状态恢复使得 app 显示时就像从来没有退出过。</p>
<p>更多如何在你的 app 提供状态保存支持信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007072" target="_blank" rel="external"><em>App Programming Guide for iOS</em></a>。</p>
<h2 id="Apple_Push_Notification_Service">Apple Push Notification Service</h2><p>Apple Push Notification Service 提供了提醒用户新信息的方法，即使你的 app 并没有正在运行活动。使用这个服务时，你可以推送文本通知，在你的 app 图标添加 badge，或者随时在用户设备上触发声音提醒。这些信息让用户知道应该打开你的 app 接收相关的信息。在 iOS 7，你甚至可以推送无声的通知让你的 app 知道有新的内容可以下载。</p>
<p>从设计的角度来说，有两个部分使推送通知为 iOS app 工作。首先，app 必须请求发出通知和一旦通知数据已经发出后的处理。第二，你需要提供一个服务器端进程在第一步生成通知。这个进程运行中你自己的服务器并为 Apple 推送通知服务器触发通知工作。</p>
<p>更多关于如何配置你的 app 使用远程通知的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Introduction.html#//apple_ref/doc/uid/TP40008194" target="_blank" rel="external"><em>Local and Remote Notificatino Programming Guide</em></a>。</p>
<h2 id="Local_Notifications">Local Notifications</h2><p>Local notifications 通过给 app 生成本地通知而不是向外部服务器申请的方法补充了已有的推送通知机制。后台运行的 app 可以使用本地通知作为当重要事件发生时引起用户注意的方法。例如，在后台运行中的导航 app 可以使用本地通知提醒用户什么时候应该转弯。app 也可以为未来的日期和时间安排本地通知的发出，即使那时 app 并没有运行本地通知也会发出。</p>
<p>本地通知的优点是他们独立于你的 app 。提醒的通知是已安排好的，由系统管理他们的发出。你的 app 甚至不需要在当通知已交出后被运行。</p>
<p>更多关于使用本地通知的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Introduction.html#//apple_ref/doc/uid/TP40008194" target="_blank" rel="external"><em>Local and Remote Notification Programming Guide</em></a>。</p>
<h2 id="Gesture_Recognizers">Gesture Recognizers</h2><p>Gesture Recognizers 检测常见的手势类型，例如在你的 app 的视图中的刷(swipes)和捏(pinches)。因为它们使用相同的智能猜测作为检查手势系统,手势识别为你的 app 提供一致的行为。要使用一个手势，你可以附加该手势到你的视图中并在手势触发的时给它执行动作的方法。手势识别完成追踪原始触摸事件和判断他们是否构成有效手势的困难工作。</p>
<p>所有手势识别都是基于 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIGestureRecognizer_Class/index.html#//apple_ref/occ/cl/UIGestureRecognizer" target="_blank" rel="external">UIGestureRecognizer</a> 类，它定义了基础行为。UIKit 支持标准的手势识别子类检查 taps，pinches，pans，swipes，rotations。你也可以定制大多数手势识别的行为到你的 app 需要的地方。例如，你可以告诉 tap 手势识别检测调用你的动作方法之前检查指定的 tap 的数字。</p>
<p>更多关于可以使用的手势识别信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009541" target="_blank" rel="external"><em>Event Handling Guide for iOS</em></a>。</p>
<h2 id="Standard_System_View_Controllers">Standard System View Controllers</h2><p>许多系统框架为标准系统界面定义了视图控制器。只要有可能，使用已提供的视图控制器而不是自己创建。我们鼓励你在 app 中使用这些视图控制器为用户呈现一致的用户体验。每当你需要执行以下的任务，你应该使用相应框架的视图控制器：</p>
<ul>
<li><strong>显示或编辑联系人信息</strong>。使用 Address Book UI framework 的视图控制器。</li>
<li><strong>创建或编辑日历事件</strong>。使用 EventKit UI framework 的视图控制器。</li>
<li><strong>编写邮件或 SMS 信息</strong>。使用 Message UI framework 的视图控制器。</li>
<li><strong>打开或预览文件的内容</strong>。使用 UIKit 的 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIImagePickerController_Class/index.html#//apple_ref/occ/cl/UIImagePickerController" target="_blank" rel="external">UIDocumentInteractionComtroller</a> 类。</li>
<li><strong>拍照或从用户相册选择照片</strong>。使用 UIKit framework 的 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIImagePickerController_Class/index.html#//apple_ref/occ/cl/UIImagePickerController" target="_blank" rel="external">UIImagePickerController</a> 类。</li>
<li><strong>拍摄视频短片</strong>。 使用 UIKit framework 的 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIImagePickerController_Class/index.html#//apple_ref/occ/cl/UIImagePickerController" target="_blank" rel="external">UIImagePickerController</a>。</li>
</ul>
<p>更多关于如何呈现和关闭视图控制器，见 <a href="https://developer.apple.com/library/prerelease/ios/featuredarticles/ViewControllerPGforiPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007457" target="_blank" rel="external"><em>View Controller Programming Guide for iOS</em></a>。</p>
<p>更多有关特定视图控制器的界面介绍，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/WindowsViews/Conceptual/ViewControllerCatalog/Introduction.html#//apple_ref/doc/uid/TP40011313" target="_blank" rel="external"><em>View Controller Catalog for iOS</em></a>。</p>
<h1 id="Cocoa_Touch_Frameworks"><strong>Cocoa Touch Frameworks</strong></h1><p>下面的章节描述 Cocoa Touch 层中的框架和他们所提供的服务。</p>
<h2 id="Address_Book_UI_Framework">Address Book UI Framework</h2><p>Address Book UI framework (<em>AddressBookUI.framework</em>) 是一个 Objective-C 编程接口能让你用来为创建新的联系人和编辑选中的已有联系人显示标准系统界面。这个框架简化了你的 app 显示联系人信息的工作并确保了你的 app 与其他 app 使用相同的界面，从而确保了整个平台的一致性。</p>
<p>更多关于 Address Book UI framework 的类和如何使用它们，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/ContactData/Conceptual/AddressBookProgrammingGuideforiPhone/Introduction.html#//apple_ref/doc/uid/TP40007744" target="_blank" rel="external"><em>Add ress Book Programming Guide for iOS</em></a> 和 <a href="https://developer.apple.com/library/prerelease/ios/documentation/AddressBookUI/Reference/AddressBookUI_Framework/index.html#//apple_ref/doc/uid/TP40007082" target="_blank" rel="external"><em>Address Book UI Framework Reference for iOS</em></a> 。</p>
<h2 id="EventKit_UI_Framework">EventKit UI Framework</h2><p>EventKit UI Framework (<em>EventKitUI.framework</em>) 提供为编辑和显示跟日历相关的事件呈现标准系统界面的视图控制器。这个框架建立在 EventKit framework 内的事件相关的数据之上，它在 <a href="https://developer.apple.com/library/prerelease/ios/documentation/Miscellaneous/Conceptual/iPhoneOSTechOverview/CoreServicesLayer/CoreServicesLayer.html#//apple_ref/doc/uid/TP40007898-CH10-SW2" target="_blank" rel="external"><em>Event Kit Framework</em></a> 被描述。</p>
<p>更多有关这个框架的类和方法的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/EventKitUI/Reference/EventKitUIFrameworkRef/index.html#//apple_ref/doc/uid/TP40009663" target="_blank" rel="external"><em>EventKit UI Framework Reference</em></a>。</p>
<h2 id="GameKit_Framework">GameKit Framework</h2><p>GameKit framework (<em>GameKit.framework</em>) 实现了对游戏中心的支持，它让用户共享他们的在线游戏相关信息。游戏中心提供以下功能的支持：</p>
<ul>
<li>Aliases，允许用户创建他们自己的游戏中心在线名称。用户登入游戏中心与其他用户互动时使用该别名。玩家可以设置状态信息以及标记其他人作为他们的好友。</li>
<li>Leaderboards，允许你的 app 提交用户分数到游戏中心和在以后取回它们。你可以使用该功能展示你的 app 所有用户中最高分数。</li>
<li>Matchmaking，让你通过连接已登录到游戏中心的用户创建多人游戏。加入多人游戏的玩家彼此不需要是本地的。</li>
<li>Achievements，让你记录玩家在你的游戏中的进程。</li>
<li>Challenges，允许玩家挑战朋友击败他们的成就或分数。(iOS 6 和之后)</li>
<li>Turn-based gaming，创建持续性的比赛他们的状态被保存在 iCloud。</li>
</ul>
<p>更多关于如何使用 GameKit framework，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/NetworkingInternet/Conceptual/GameKit_Guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008304" target="_blank" rel="external"><em>Game Center Programming Guide</em></a> 和 <a href="https://developer.apple.com/library/prerelease/ios/documentation/GameKit/Reference/GameKit_Collection/index.html#//apple_ref/doc/uid/TP40008303" target="_blank" rel="external"><em>GameKit Framework Reference</em></a>。</p>
<h2 id="iAd_Framework">iAd Framework</h2><p>iAd framework (<em>iAd.framework</em>) 让你从 app 中放出横幅型的广告。广告是被纳入标准视图的你可以整合到你的用户界面并在你想要的时间显示他们。这个视图他们自己与 Apple 的 iAd Service 工作自动化的处理所有关联的加载和显示丰富的多媒体广告工作和对这个广告的 tap 做出响应。</p>
<p>更多关于在你的 app 中使用 iAd 的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Conceptual/iAd_Guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009881" target="_blank" rel="external"><em>iAd Programming Guide</em></a> 和 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Reference/iAd_ReferenceCollection/index.html#//apple_ref/doc/uid/TP40009705" target="_blank" rel="external"><em>iAd Framework Reference</em></a>。</p>
<h2 id="MapKit_Framework">MapKit Framework</h2><p>MapKit framework (<em>MapKit.framework</em>) 提供了可滚动的地图你可以合并到你的 app 的用户界面。不仅仅是显示地图，你可以使用这个框架接口自定义地图的内容和外观。你可以使用注解 (annotations) 标记有趣的点，你还可以自定义覆盖层穿插在你自己的内容与地图内容。例如，你可能使用覆盖层画一个巴士站点，或者使用注解 (annotations) 突出显示临近的商店和餐馆。</p>
<p>除了显示地图，MapKit framework 还集成了 Maps app 和 Apple 的地图服务器到便捷路线 (directions)。对于 Maps app，用户可以委派提供的路线到任何支持路线的 app。App 提供指定路线类型 ，例如地铁路线，可以注册为当被询问时提供这些路线。App 也可以从 Apple 服务器请求步行和行驶路线并合并这些路线信息与他们的自定义的路线为用户提供完整的点对点体验。</p>
<p>更多关于使用 MapKit framework 的类的使用信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Conceptual/LocationAwarenessPG/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009497" target="_blank" rel="external"><em>Locations and Maps Programming</em></a> 和 <a href="https://developer.apple.com/library/prerelease/ios/documentation/MapKit/Reference/MapKit_Framework_Reference/index.html#//apple_ref/doc/uid/TP40008210" target="_blank" rel="external"><em>MapKit Framework Reference</em></a>。</p>
<h2 id="Message_UI_Framework">Message UI Framework</h2><p>Message UI framework (<em>MessageUI.framework</em>) 提供了从你的 app 中撰写 email 或 SMS 信息的支持。由出现在你的 app 的视图控制器界面支持撰写。你可以填写视图控制器的字段来设置收件人，主题，主要内容，和任意你想包含在信息中的附件。之后呈现的视图控制器，用户仍有在消息发送之前再次编辑的选项。</p>
<p>更多关于 Message UI framework 类的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/MessageUI/Reference/MessageUI_Framework_Reference/index.html#//apple_ref/doc/uid/TP40008274" target="_blank" rel="external"><em>Message UI Framework</em></a>。</p>
<p>更多关于使用这个框架的类的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Conceptual/SystemMessaging_TopicsForIOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010404" target="_blank" rel="external"><em>System Messaging Programming Topic for iOS</em></a>。</p>
<h2 id="Notification_Center_Framework">Notification Center Framework</h2><p>Notification Center framework (<em>NotificationCenter.framework</em>) 提供了在通知中心创建显示信息的部件的支持。</p>
<p>更多关于如何创建通知中心部件，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/ExtensibilityPG/index.html#//apple_ref/doc/uid/TP40014214" target="_blank" rel="external"><em>App Extension Programming Guide</em></a> 和 <a href="https://developer.apple.com/library/prerelease/ios/documentation/NotificationCenter/Reference/NotificationCenter_Framework/index.html#//apple_ref/doc/uid/TP40014443" target="_blank" rel="external"><em>Notification Center Framework Reference</em></a>。</p>
<h2 id="PushKit_Framework">PushKit Framework</h2><p>PushKit framework (<em>PushKit.framework</em>) 为网络电话 (VoIP) app 提供了注册的支持。这个框架替代了之前的注册网络电话的 app 的 API。替代保持持久连接打开，和因此造成的设备的电量消耗，App 可以使用这个框架在有来电的时候接收推送消息。</p>
<p>更多关于这个框架的接口信息，见此框架的头文件。</p>
<h2 id="Twitter_Framework">Twitter Framework</h2><p>Twitter framework (<em>Twitter.framework</em>) 已经被 Social framework 替代，它支持生成 twitter 的 UI 和支持创建一个 URLs 来访问 Twitter 的服务。</p>
<p>更多相关的信息， 见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/Miscellaneous/Conceptual/iPhoneOSTechOverview/CoreServicesLayer/CoreServicesLayer.html#//apple_ref/doc/uid/TP40007898-CH10-SW26" target="_blank" rel="external"><em>Social Framework</em></a> 。</p>
<h2 id="UIKit_Framework">UIKit Framework</h2><p>UIKit framework (<em>UIKit.framework</em>) 提供了生成图像的关键架构，在 iOS 中事件驱动 app，包含以下方面：</p>
<ul>
<li>基础的 app 管理和架构，包括 app 的主运行循环</li>
<li>用户界面管理，包括 storyboards 和 nib 文件的支持</li>
<li>视图控制器模型封装你的用户界面的内容</li>
<li>表示标准系统视图和控件的对象</li>
<li>支持处理触摸和基于动画的事件</li>
<li>支持包含集成 iCloud 的文档模型，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/DataManagement/Conceptual/DocumentBasedAppPGiOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40011149" target="_blank" rel="external"><em>Document-Based App Programming Guide for iOS</em></a>。</li>
<li>图形和窗口支持，包括为拓展显示的支持；见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009503" target="_blank" rel="external"><em>View Programming Guide for iOS</em></a>。</li>
<li>多任务的支持，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/Miscellaneous/Conceptual/iPhoneOSTechOverview/iPhoneOSTechnologies/iPhoneOSTechnologies.html#//apple_ref/doc/uid/TP40007898-CH3-SW5" target="_blank" rel="external"><em>Multitasking</em></a>。</li>
<li>打印的支持，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/2DDrawing/Conceptual/DrawingPrintingiOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010156" target="_blank" rel="external"><em>Drawing and Printing Guide for iOS</em></a>。</li>
<li>支持自定义的标准 UIKit 控件的外观</li>
<li>支持文本和 web 内容</li>
<li>剪切，复制，和黏贴的支持</li>
<li>支持动画用户界面内容</li>
<li>通过 URL 架构和框架接口在系统中集成其他 app</li>
<li>残疾用户的可访问性支持</li>
<li>支持 Apple 推送通知服务，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/Miscellaneous/Conceptual/iPhoneOSTechOverview/iPhoneOSTechnologies/iPhoneOSTechnologies.html#//apple_ref/doc/uid/TP40007898-CH3-SW26" target="_blank" rel="external"><em>Apple Push Notification Service</em></a>。</li>
<li>本地通知计划和交付，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/Miscellaneous/Conceptual/iPhoneOSTechOverview/iPhoneOSTechnologies/iPhoneOSTechnologies.html#//apple_ref/doc/uid/TP40007898-CH3-SW7" target="_blank" rel="external"><em>Local Notifications</em></a>。</li>
<li>创建 PDF。</li>
<li>支持使用自定义的输入视图行为，如系统键盘。</li>
<li>支持创建自定义与系统键盘互动的文本视图。</li>
<li>支持通过 email，Twitter，Facebook或其他服务分享内容。</li>
</ul>
<p>除了提供基本的代码构建你的 app 外，UIKit 也合并一些特定设备功能的支持，例如下面的：</p>
<ul>
<li>内置照相机 (当存在时)。</li>
<li>用户的图片库。</li>
<li>设备名称和机型信息。</li>
<li>电池状态信息。</li>
<li>距离感应器信息。</li>
<li>已附加的耳机的远程控制信息。</li>
</ul>
<p>更多有关 UIKit framework 类的信息，见 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIKit_Framework/index.html#//apple_ref/doc/uid/TP40006955" target="_blank" rel="external"><em>UIKit Framework Reference</em></a>。</p>
<h1 id="系列文章"><strong>系列文章</strong></h1><p><em>iOS 笔记《About the iOS Technologies：Cocoa Touch Layer》</em><br><a href="../iOS-Note-About-the-iOS-Technologies-Media-Layer"><em>iOS 笔记《About the iOS Technologies：Media Layer》</em></a><br><a href="../iOS-Note-About-the-iOS-Technologies-Core-Service-Layer"><em>iOS 笔记《About the iOS Technologies：Core Service Layer》</em></a><br><a href="../iOS-Note-About-the-iOS-Technologies-Core-OS-Layer"><em>iOS 笔记《About the iOS Technologies：Core OS Layer》</em></a> </p>
<hr>

      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOS/"> #iOS </a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/iOS-Note-About-the-iOS-Technologies-Media-Layer/">iOS 笔记《About the iOS Technologies：Media Layer》</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/mianshianpai/">面试安排</a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    
      <div class="comments" id="comments">
        
          <div class="ds-thread" data-thread-key="2015/iOS-Note-About-the-iOS-Technologies-Cocoa-Touch-Layer/"
               data-title="iOS 笔记《About the iOS Technologies：Cocoa Touch Layer》" data-url="http://yoursite.com/2015/iOS-Note-About-the-iOS-Technologies-Cocoa-Touch-Layer/">
          </div>
        
      </div>
    
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Humyang" />
          <p class="site-author-name">Humyang</p>
        </div>
        <p class="site-description motion-element"></p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">47</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">22</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="http://weibo.com/yspace" target="_blank">weibo</a>
            </span>
            
          
        </div>

        
        

      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#High-Level_Features"><span class="nav-number">1.</span> <span class="nav-text">High-Level Features</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#App_Extensions"><span class="nav-number">1.1.</span> <span class="nav-text">App Extensions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Handoff"><span class="nav-number">1.2.</span> <span class="nav-text">Handoff</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Document_Picker"><span class="nav-number">1.3.</span> <span class="nav-text">Document Picker</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AirDrop"><span class="nav-number">1.4.</span> <span class="nav-text">AirDrop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TextKit"><span class="nav-number">1.5.</span> <span class="nav-text">TextKit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIKit_Dynamics"><span class="nav-number">1.6.</span> <span class="nav-text">UIKit Dynamics</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Multitasking"><span class="nav-number">1.7.</span> <span class="nav-text">Multitasking</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Auto_Layout"><span class="nav-number">1.8.</span> <span class="nav-text">Auto Layout</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Storyboards"><span class="nav-number">1.9.</span> <span class="nav-text">Storyboards</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UI_State_Preservation"><span class="nav-number">1.10.</span> <span class="nav-text">UI State Preservation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Apple_Push_Notification_Service"><span class="nav-number">1.11.</span> <span class="nav-text">Apple Push Notification Service</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Local_Notifications"><span class="nav-number">1.12.</span> <span class="nav-text">Local Notifications</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Gesture_Recognizers"><span class="nav-number">1.13.</span> <span class="nav-text">Gesture Recognizers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Standard_System_View_Controllers"><span class="nav-number">1.14.</span> <span class="nav-text">Standard System View Controllers</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Cocoa_Touch_Frameworks"><span class="nav-number">2.</span> <span class="nav-text">Cocoa Touch Frameworks</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Address_Book_UI_Framework"><span class="nav-number">2.1.</span> <span class="nav-text">Address Book UI Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EventKit_UI_Framework"><span class="nav-number">2.2.</span> <span class="nav-text">EventKit UI Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GameKit_Framework"><span class="nav-number">2.3.</span> <span class="nav-text">GameKit Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iAd_Framework"><span class="nav-number">2.4.</span> <span class="nav-text">iAd Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MapKit_Framework"><span class="nav-number">2.5.</span> <span class="nav-text">MapKit Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Message_UI_Framework"><span class="nav-number">2.6.</span> <span class="nav-text">Message UI Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Notification_Center_Framework"><span class="nav-number">2.7.</span> <span class="nav-text">Notification Center Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PushKit_Framework"><span class="nav-number">2.8.</span> <span class="nav-text">PushKit Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Twitter_Framework"><span class="nav-number">2.9.</span> <span class="nav-text">Twitter Framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIKit_Framework"><span class="nav-number">2.10.</span> <span class="nav-text">UIKit Framework</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#系列文章"><span class="nav-number">3.</span> <span class="nav-text">系列文章</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2016
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Humyang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  
  
<script type="text/javascript" id="bootstrap.scrollspy.custom">
  /* ========================================================================
  * Bootstrap: scrollspy.js v3.3.2
  * http://getbootstrap.com/javascript/#scrollspy
  * ========================================================================
  * Copyright 2011-2015 Twitter, Inc.
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  * ======================================================================== */

  /**
   * Custom by iissnan
   *
   * - Add a `clear.bs.scrollspy` event.
   * - Esacpe targets selector.
   */


  +function ($) {
    'use strict';

    // SCROLLSPY CLASS DEFINITION
    // ==========================

    function ScrollSpy(element, options) {
      this.$body          = $(document.body)
      this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
      this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
      this.selector       = (this.options.target || '') + ' .nav li > a'
      this.offsets        = []
      this.targets        = []
      this.activeTarget   = null
      this.scrollHeight   = 0

      this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
      this.refresh()
      this.process()
    }

    ScrollSpy.VERSION  = '3.3.2'

    ScrollSpy.DEFAULTS = {
      offset: 10
    }

    ScrollSpy.prototype.getScrollHeight = function () {
      return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }

    ScrollSpy.prototype.refresh = function () {
      var that          = this
      var offsetMethod  = 'offset'
      var offsetBase    = 0

      this.offsets      = []
      this.targets      = []
      this.scrollHeight = this.getScrollHeight()

      if (!$.isWindow(this.$scrollElement[0])) {
        offsetMethod = 'position'
        offsetBase   = this.$scrollElement.scrollTop()
      }

      this.$body
        .find(this.selector)
        .map(function () {
          var $el   = $(this)
          var href  = $el.data('target') || $el.attr('href')
          var $href = /^#./.test(href) && $(escapeSelector(href)) // Need to escape selector.

          return ($href
            && $href.length
            && $href.is(':visible')
            && [[$href[offsetMethod]().top + offsetBase, href]]) || null
        })
        .sort(function (a, b) { return a[0] - b[0] })
        .each(function () {
          that.offsets.push(this[0])
          that.targets.push(this[1])
        })


    }

    ScrollSpy.prototype.process = function () {
      var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
      var scrollHeight = this.getScrollHeight()
      var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
      var offsets      = this.offsets
      var targets      = this.targets
      var activeTarget = this.activeTarget
      var i

      if (this.scrollHeight != scrollHeight) {
        this.refresh()
      }

      if (scrollTop >= maxScroll) {
        return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
      }

      if (activeTarget && scrollTop < offsets[0]) {
        $(this.selector).trigger('clear.bs.scrollspy')  // Add a custom event.
        this.activeTarget = null
        return this.clear()
      }

      for (i = offsets.length; i--;) {
        activeTarget != targets[i]
          && scrollTop >= offsets[i]
          && (!offsets[i + 1] || scrollTop <= offsets[i + 1])
          && this.activate(targets[i])
      }
    }

    ScrollSpy.prototype.activate = function (target) {
      this.activeTarget = target

      this.clear()

      var selector = this.selector +
        '[data-target="' + target + '"],' +
        this.selector + '[href="' + target + '"]'

      var active = $(selector)
        .parents('li')
        .addClass('active')

      if (active.parent('.dropdown-menu').length) {
        active = active
          .closest('li.dropdown')
          .addClass('active')
      }

      active.trigger('activate.bs.scrollspy')
    }

    ScrollSpy.prototype.clear = function () {
      $(this.selector)
        .parentsUntil(this.options.target, '.active')
        .removeClass('active')
    }


    // SCROLLSPY PLUGIN DEFINITION
    // ===========================

    function Plugin(option) {
      return this.each(function () {
        var $this   = $(this)
        var data    = $this.data('bs.scrollspy')
        var options = typeof option == 'object' && option

        if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
        if (typeof option == 'string') data[option]()
      })
    }

    var old = $.fn.scrollspy

    $.fn.scrollspy             = Plugin
    $.fn.scrollspy.Constructor = ScrollSpy


    // SCROLLSPY NO CONFLICT
    // =====================

    $.fn.scrollspy.noConflict = function () {
      $.fn.scrollspy = old
      return this
    }


    // SCROLLSPY DATA-API
    // ==================

    $(window).on('load.bs.scrollspy.data-api', function () {
      $('[data-spy="scroll"]').each(function () {
        var $spy = $(this)
        Plugin.call($spy, $spy.data())
      })
    })

  }(jQuery);
</script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0 && isDesktop()) {
        setTimeout(function () {
          $('.sidebar-toggle').trigger('click');
        }, 800);
      }
    });
  </script>




  

  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"humyang"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62263979-1', 'auto');
  ga('send', 'pageview');
  </script>

</body>
</html>
